<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="http://anime.dinoex.net/dinoex.css">
<link rel="icon" href="/favicon.ico">
<title>Installation von iroffer mod Dinoex unter Linux als User</title>
</head>
<body lang="de">
<h1>Installation von iroffer mod Dinoex unter Linux als User<h1>

<div>
<h2>Installationsschritte</h2>

<ol>

<li>Wir gehen als User in das HOME Verzeichnis.<br>
 

<pre>
cd
</pre>
</li>

<li>Wir legen ein extra Verzeichnis für iroffer an.<br>
 

<pre>
mkdir iroffer
cd iroffer/
</pre>
</li>

<li>Holen der Quellen für Programm.<br>
 

<pre>
wget http://iroffer.dinoex.net/iroffer-dinoex-snap.tar.gz
</pre>
</li>

<li>Auspacken der Quellen.<br>
 

<pre>
tar -xvzf iroffer-dinoex-snap.tar.gz
</pre>
</li>

<li>Wir konfigurieren die Quellen für unser Linux.<br>
 

<pre>
cd iroffer-dinoex-snap
./Configure -curl -geoip -ruby
</pre>
</li>

<li>Sollte "Configure" Fehler melden, so fehlen noch Pakete.
Diese sind zu installieren und dann "Configure" wiederholen.<br>
unter Debian reicht:<br>
<pre>
sudo aptitude install make
sudo aptitude install gcc
sudo aptitude install libc-dev
sudo aptitude install libcurl4-openssl-dev
sudo aptitude install libgeoip-dev
sudo aptitude install libssl-dev
sudo aptitude install ruby1.8-dev
sudo aptitude install ruby1.8
sudo aptitude install libruby-extras
</pre>
</li>

<li>Wir möchten deutsche Texte.<br>
 

<pre>
./Lang de
</pre>
</li>

<li>Wir bauen das Programm.<br>
 

<pre>
make
</pre>
</li>

<li>Nun das Programm an die richtige Stelle kopieren.<br>
 

<pre>
cp -p iroffer ..
cp *.html ..
cp -r htdocs ../
</pre>
</li>

<li>Wir starten mit der "beispiel.config".<br>
 

<pre>
cp beispiel.config ../mybot.config
cd ..
chmod 600 mybot.config
</pre>
</li>

<li>Nur der Bot muss Schreibrechte besitzen.<br>
 

<pre>
chmod 700 .
</pre>
</li>

<li>Wir erzeugen ein Passwort für den Admin-Chat.<br>
 

<pre>
./iroffer -c
</pre>

Diese Zeile mit "adminpass" wird dan in "mybot.config" bei "adminpass" eingetragen. 

<pre>
nano -w mybot.config
</pre>

oder 

<pre>
vim mybot.config
</pre>
</li>

<li>Wir tragen die Verzeichnisse in die Konfigurationsdatei "mybot.config" ein.<br>

"adminhost" sollte passend gesetzt werden. Die die interne Webliste wird aktiviert. 
Das Verzeichniss für die Pakete wird eingetragen.<br>
mybot.config sollte enthalten: 

<pre>
http_port 8000
http_dir htdocs
filedir /home/bot/files
uploaddir /home/bot/files
</pre>
(Ersetze 'bot' durch deinen Login)
</li>

<li>Wir legen das Verzeichnis für die Pakete an.<br>
 

<pre>
cd ..
mkdir files
</pre>

Dort können dann per XDCC oder FTP die Dateien hochgeladen werden.<br>
<br>
</li>

<li>Erstellen eines Start-Scriptes.<br>
 

<pre>
cd ..
</pre>

dann 

<pre>
nano -w start-iroffer.sh
</pre>

oder 

<pre>
vim start-iroffer.sh
</pre>

Dort tragen wir ein: 

<pre>
#!/bin/sh
cd /home/bot/iroffer/iroffer
./iroffer -b /home/bot/iroffer/mybot.config
(Ersetze 'bot' durch deinen Login)
</pre>
</li>

<li>Das Script ausführbar machen.<br>
 

<pre>
chmod +x start-iroffer.sh
</pre>
</li>

<li>Starten.<br>
 

<pre>
sh start-iroffer.sh
</pre>

Nun sollte der Bot laufen.
<pre>
</pre>
</li>

</ol>
</div>
</body>
</html>

